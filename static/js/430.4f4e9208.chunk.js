"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[430],{6430:function(n,e,t){t.r(e),t.d(e,{default:function(){return O}});var r=t(7853),o=t(4531),u=t(8932),i=t(2587),s=t(2791),a=t(7375),l=t(2156),c="Users_photoUser__SuB-h",f=t(101),p=t(3504),g=t(3430),h="PaginationC_currentPage__7gnZW",d="PaginationC_otherPage__RpUxO",v=t(184),y=function(n){for(var e=n.totalItemsCount,t=n.pageSize,r=n.currentItem,o=n.onChangeCurrentItem,u=n.portionSize,i=void 0===u?5:u,a=(0,s.useState)(1),l=(0,g.Z)(a,2),c=l[0],f=l[1],p=Math.ceil(e/t),y=[],m=1;m<=p;m++)y.push(m);var w=Math.ceil(p/i),C=(c-1)*i+1,P=c*i;return(0,v.jsxs)("div",{children:[c>1&&(0,v.jsx)("button",{onClick:function(){f((function(n){return n-1})),o(C)},children:"prev"}),y.filter((function(n){return C<=n&&P>=n})).map((function(n){return(0,v.jsxs)("span",{className:n===r?h:d,onClick:function(){return o(n)},children:[" ",n," "]})})),c<w&&(0,v.jsx)("button",{onClick:function(){f((function(n){return n+1})),o(P)},children:"next"})]})},m=function(n){for(var e=Math.ceil(n.totalUsers/n.pageSize),t=[],r=1;r<=e;r++)t.push(r);return(0,v.jsxs)("div",{children:[n.isLoading?(0,v.jsx)(l.Z,{size:50}):n.usersData.map((function(e){return(0,v.jsxs)("div",{children:[(0,v.jsx)(p.OL,{to:"/profile/".concat(e.id),children:(0,v.jsx)("img",{className:c,src:e.photos.small?e.photos.small:f,alt:"userPhoto"})}),(0,v.jsx)("h3",{children:e.name}),(0,v.jsx)("p",{children:e.status}),(0,v.jsx)("div",{children:(0,v.jsx)("button",{disabled:n.followIsProgress.some((function(n){return n===e.id})),onClick:function(){return t=e.followed,r=e.id,void(t?n.followUnfollowThunk("delete",r):n.followUnfollowThunk("post",r));var t,r},children:e.followed?"Unfollow":"Follow"})})]},e.id)})),(0,v.jsx)(y,{totalItemsCount:n.totalUsers,pageSize:n.pageSize,currentItem:n.currentPage,onChangeCurrentItem:function(e){return n.onChangeCurrentPage(e)},portionSize:10})]})},w=t(9256),C="NOT_FOUND";var P=function(n,e){return n===e};function k(n,e){var t="object"===typeof e?e:{equalityCheck:e},r=t.equalityCheck,o=void 0===r?P:r,u=t.maxSize,i=void 0===u?1:u,s=t.resultEqualityCheck,a=function(n){return function(e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0}}(o),l=1===i?function(n){var e;return{get:function(t){return e&&n(e.key,t)?e.value:C},put:function(n,t){e={key:n,value:t}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(a):function(n,e){var t=[];function r(n){var r=t.findIndex((function(t){return e(n,t.key)}));if(r>-1){var o=t[r];return r>0&&(t.splice(r,1),t.unshift(o)),o.value}return C}return{get:r,put:function(e,o){r(e)===C&&(t.unshift({key:e,value:o}),t.length>n&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(i,a);function c(){var e=l.get(arguments);if(e===C){if(e=n.apply(null,arguments),s){var t=l.getEntries(),r=t.find((function(n){return s(n.value,e)}));r&&(e=r.value)}l.put(arguments,e)}return e}return c.clearCache=function(){return l.clear()},c}function x(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return"function"===typeof n?"function "+(n.name||"unnamed")+"()":typeof n})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function U(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var u,i=0,s={memoizeOptions:void 0},a=r.pop();if("object"===typeof a&&(s=a,a=r.pop()),"function"!==typeof a)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof a+"]");var l=s,c=l.memoizeOptions,f=void 0===c?t:c,p=Array.isArray(f)?f:[f],g=x(r),h=n.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(p)),d=n((function(){for(var n=[],e=g.length,t=0;t<e;t++)n.push(g[t].apply(null,arguments));return u=h.apply(null,n)}));return Object.assign(d,{resultFunc:a,memoizedResultFunc:h,dependencies:g,lastResult:function(){return u},recomputations:function(){return i},resetRecomputations:function(){return i=0}}),d};return o}var j=U(k),z=j((function(n){return n.userPage.users}),(function(n){return n.filter((function(){return!0}))})),S=function(n){return n.userPage.totalUsersCount},I=function(n){return n.userPage.currentPage},b=function(n){return n.userPage.pageSize},_=function(n){return n.userPage.isLoading},F=function(n){return n.userPage.followIsProgress},T=function(n){(0,u.Z)(t,n);var e=(0,i.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.pageSize,this.props.currentPage)}},{key:"render",value:function(){var n=this;return(0,v.jsx)(m,{totalUsers:this.props.totalUsers,currentPage:this.props.currentPage,onChangeCurrentPage:function(e){n.props.getUsersCurrentPage(e,n.props.pageSize)},usersData:this.props.usersData,pageSize:this.props.pageSize,isLoading:this.props.isLoading,toggleIsFollowing:this.props.toggleIsFollowing,followIsProgress:this.props.followIsProgress,followUnfollowThunk:this.props.followUnfollowThunk})}}]),t}(s.Component),O=(0,a.$j)((function(n){return{usersData:z(n),totalUsers:S(n),currentPage:I(n),pageSize:b(n),isLoading:_(n),followIsProgress:F(n)}}),{getUsersCurrentPage:w.ad,getUsersThunkCreator:w.Uk,toggleIsFollowing:w.zF,followUnfollowThunk:w.q0})(T)}}]);
//# sourceMappingURL=430.4f4e9208.chunk.js.map